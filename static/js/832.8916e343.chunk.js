"use strict";(self.webpackChunkslimmom=self.webpackChunkslimmom||[]).push([[832],{8725:function(t,e,n){n.r(e),n.d(e,{default:function(){return U}});var r=n(9439),a=n(2791),i=n(9126),s=n(4420),o=n(759),c=(n(1778),n(9601),n(1799)),u=n.n(c),d="CalendarBtn_buttonCalendar__UhSCa",l=n(184),h=function(){return(0,l.jsxs)("svg",{viewBox:"0 0 19 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M14 9H12V11H14V9Z"}),(0,l.jsx)("path",{d:"M10 9H8V11H10V9Z"}),(0,l.jsx)("path",{d:"M6.00002 9H4V11H6.00002V9Z"}),(0,l.jsx)("path",{d:"M16 2.00001H15V0H13V2.00001H5.00001V0H3V2.00001H2.00001C0.890015 2.00001 0.0100313 2.90001 0.0100313 4.00003L0 18C0 19.1 0.890015 20 2.00001 20H16C17.1 20 18 19.1 18 18V3.99998C18 2.90001 17.1 2.00001 16 2.00001ZM16 18H2.00001V6.99998H16V18Z"})]})},m=function(){return(0,l.jsx)("svg",{viewBox:"0 0 30 32",fill:"#fc842d",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M 7 4 C 6.744125 4 6.4879687 4.0974687 6.2929688 4.2929688 L 4.2929688 6.2929688 C 3.9019687 6.6839688 3.9019687 7.3170313 4.2929688 7.7070312 L 11.585938 15 L 4.2929688 22.292969 C 3.9019687 22.683969 3.9019687 23.317031 4.2929688 23.707031 L 6.2929688 25.707031 C 6.6839688 26.098031 7.3170313 26.098031 7.7070312 25.707031 L 15 18.414062 L 22.292969 25.707031 C 22.682969 26.098031 23.317031 26.098031 23.707031 25.707031 L 25.707031 23.707031 C 26.098031 23.316031 26.098031 22.682969 25.707031 22.292969 L 18.414062 15 L 25.707031 7.7070312 C 26.098031 7.3170312 26.098031 6.6829688 25.707031 6.2929688 L 23.707031 4.2929688 C 23.316031 3.9019687 22.682969 3.9019687 22.292969 4.2929688 L 15 11.585938 L 7.7070312 4.2929688 C 7.5115312 4.0974687 7.255875 4 7 4 z"})})},x=function(t){var e=t.onHandleClick,n=t.isShown;return(0,l.jsx)("button",{className:d,onClick:function(){return e()},children:n?(0,l.jsx)(m,{}):(0,l.jsx)(h,{})})},_="DiaryDateCalendar_container__JTyiL",p="DiaryDateCalendar_time__RYFdf";function f(){var t=(0,s.I0)(),e=(0,a.useState)(!1),n=(0,r.Z)(e,2),i=n[0],c=n[1],d=(0,s.v9)(o.DC.getCurrentDate),h=(0,a.useState)(d),m=(0,r.Z)(h,2),f=m[0],v=m[1],g={value:f,disabled:!0};function j(){c(!i)}return(0,l.jsxs)("div",{className:_,onMouseLeave:function(){c(!1)},onClick:j,children:[(0,l.jsx)(u(),{className:p,inputProps:g,timeFormat:!1,dateFormat:"DD.MM.YYYY",isValidDate:function(t){var e=new Date;return t.isBefore(e)},onChange:function(e){var n=function(t){var e=String(t.getFullYear()),n=String(t.getMonth()+1).padStart(2,"0");return String(t.getDate()).padStart(2,"0")+"."+n+"."+e}(e._d);c(!1),t(o.i2.actionGetProducts({date:n})),t((0,o.Vm)(n)),v(n)},open:i,locale:"en",closeOnSelect:!0,closeOnClickOutside:!0}),(0,l.jsx)(x,{onHandleClick:j,isShown:i})]})}var v=n(5861),g=n(4687),j=n.n(g),D=n(1211),b=n(4452),C=n(8213),y="DiaryAddProductForm_form__jOIbk",P="DiaryAddProductForm_label__DtE5g",w="DiaryAddProductForm_inputWeight__u5utB",L="DiaryAddProductForm_buttonMobile__Bugiu",N="DiaryAddProductForm_buttonSubmit__rMfSF",S="DiaryAddProductForm_inputProduct__JObr6",Z=function(){var t=(0,v.Z)(j().mark((function t(e,n){var r,a;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.length<2)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,C.Bw)(e);case 4:r=t.sent,a=r.data,console.log("Product List:",a.result),n(a.result.map((function(t){var e=t.title;return{label:e,value:e}})));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();function H(t){var e=t.onSubmit,n=(0,a.useState)(null),c=(0,r.Z)(n,2),u=c[0],d=c[1],h=(0,a.useState)(""),m=(0,r.Z)(h,2),x=m[0],_=m[1],p=(0,s.v9)(o.DC.getIsAddProductLoading),f=function(){var t=(0,v.Z)(j().mark((function t(n){var r,a,i,s;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=parseInt(x),u&&!isNaN(r)){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,(0,C.Bw)(u.value);case 6:a=t.sent,i=a.data,s=i.result[0]._id,e({product:s,weight:r}),g();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){d(null),_("")};return(0,l.jsx)(a.Fragment,{children:(0,l.jsxs)("form",{onSubmit:f,className:y,children:[(0,l.jsx)("label",{className:P,children:(0,l.jsx)(D.ZP,{className:S,value:u,onChange:d,loadOptions:Z,placeholder:"Enter product name",noOptionsMessage:function(t){return t.inputValue?"There is no such product":"Enter product name"}})}),(0,l.jsx)("label",{className:P,children:(0,l.jsx)("input",{className:w,type:"number",min:1,name:"weight",title:"Enter the weight of the product\n",required:!0,value:x,onChange:function(t){return _(t.target.value)},placeholder:"Grams"})}),(0,l.jsx)("button",{className:L,type:"submit",children:"Add"}),(0,l.jsx)("button",{className:N,type:"submit",disabled:null===u||""===x||p,children:p?(0,l.jsx)(b._P,{color:" #FC842D",height:40,width:40}):(0,l.jsx)(i.B8K,{size:14})})]})})}var M=n(3433),F=n(6053),k=n(6698),V="DiaryProductListItem_listItem__1zXaT",B="DiaryProductListItem_info__mSZ1e",I=function(t){var e=t.product,n=(0,s.I0)(),i=e.weightGrm,c=e._id,u=(0,a.useState)(!1),d=(0,r.Z)(u,2),h=d[0],m=d[1],x=(0,s.v9)(o.DC.getCurrentDate),_=x===(new Date).toLocaleDateString(),p=(0,s.v9)(o.DC.getIsDeleteProductLoading),f={productId:c,date:x};return(0,l.jsxs)("li",{className:V,children:[h&&(0,l.jsx)(k.Z,{text:"Do you want to remove this product?",choiceHandler:function(t){t&&n(o.i2.actionDeleteProduct(f))},closeModalHandle:function(){m(!1)},subText:e.product.title}),(0,l.jsxs)("div",{className:B,children:[(0,l.jsx)("div",{children:e.product.title}),(0,l.jsxs)("div",{children:[i," Grams"]}),(0,l.jsxs)("div",{children:[e.product.calories,"Kcal"]})]}),_&&(0,l.jsx)("button",{type:"button",onClick:function(){m(!0),document.body.style.overflow="hidden"},disabled:p,children:(0,l.jsx)(F.nfZ,{})})]})},O="DiaryProductList_text__BNqfg",A="DiaryProductList_boxProducts__FNVBS",G="DiaryProductList_productsList__FdmPj",Y=function(){var t=(0,s.v9)(o.DC.getDiaryProducts);return null!==t&&t.length>0?(0,l.jsx)("div",{className:A,children:(0,l.jsx)("ul",{className:G,children:(0,M.Z)(t).reverse().map((function(t,e){return(0,l.jsx)(I,{product:t},e)}))})}):(0,l.jsx)("p",{className:O,children:"The list in your diary is still empty."})},E=n(5631),T=n(9926),z=n(134),R="DiaryPage_container__dMiDt",q="DiaryPage_containerSidebar__6PQd+",K="DiaryPage_productBox__57qOI",J="DiaryPage_diaryBox__vueeH",X="DiaryPage_title__vHXnF",Q="DiaryPage_button__RYRRM";function U(){var t=(0,s.I0)(),e=(new Date).toLocaleDateString(),n=(0,a.useState)(!1),c=(0,r.Z)(n,2),u=c[0],d=c[1],h=(0,s.v9)(o.DC.getCurrentDate),m=h===e;(0,a.useEffect)((function(){t(o.i2.actionGetProducts({date:e})).then((function(n){"string"===typeof n.payload&&t(o.i2.actionCreateProductsList({date:e}))}))}),[e,t]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(z.Z,{localPage:"DiaryPage"}),(0,l.jsxs)("div",{className:R,children:[(0,l.jsx)(E.Z,{onGoBack:function(){return d(!1)}}),(0,l.jsxs)("div",{className:J,children:[!u&&(0,l.jsx)(f,{}),m?(0,l.jsx)(H,{onSubmit:function(n){var r=n.product,a=n.weight;t(o.i2.actionAddProduct({date:e,data:{product:r,weightGrm:a}})),d(!1)},className:u?"":"hideOnMobile"}):(0,l.jsx)("h3",{className:X,children:" Foods you ate that day:"}),(0,l.jsx)("div",{className:"".concat(K," ").concat(u?"hideOnMobile":""),children:(0,l.jsx)(Y,{})}),m&&!u&&(0,l.jsx)("button",{className:"".concat(Q," showOnMobile"),onClick:function(){return d(!0)},children:(0,l.jsx)(i.B8K,{size:14})})]}),(0,l.jsx)("div",{className:"".concat(q," ").concat(u?"hideOnMobile":""),children:(0,l.jsx)(T.Z,{date:h})})]})]})}}}]);
//# sourceMappingURL=832.8916e343.chunk.js.map